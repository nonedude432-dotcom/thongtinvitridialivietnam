<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8" />
  <title>Tra c·ª©u c√°c t·ªânh,th√†nh Vi·ªát Nam üéâ</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <style>
    :root{
      --bg: #fffaf0;
      --primary: #ff6b6b;
      --secondary: #4ecdc4;
      --accent: #ffe66d;
      --text: #2d3436;
      --muted: #6c757d;
      --card: #ffffff;
    }
    *{ box-sizing: border-box; }
    body{
      margin:0;
      font-family: "Inter", "Segoe UI", system-ui, -apple-system, Arial, sans-serif;
      background: radial-gradient(circle at 10% 10%, #fff1d0 0%, #fffaf0 50%, #fefefe 100%);
      color: var(--text);
    }
    header{
      background: linear-gradient(135deg, var(--primary), var(--secondary));
      color:#fff;
      padding: 28px 18px;
      text-align:center;
      position:relative;
      overflow:hidden;
    }
    header h1{
      margin:0 0 6px;
      font-size: 28px;
      letter-spacing: 0.2px;
    }
    header p{
      margin:0;
      opacity:0.9;
    }
    .mascot{
      position:absolute;
      right:16px;
      bottom:-12px;
      font-size: 56px;
      filter: drop-shadow(0 2px 6px rgba(0,0,0,0.15));
      transform: rotate(-8deg);
    }

    .container{
      max-width: 980px;
      margin: 24px auto;
      padding: 0 16px;
    }

    .search-card{
      background: var(--card);
      border-radius: 16px;
      box-shadow: 0 10px 30px rgba(0,0,0,0.08);
      padding: 16px;
      display: grid;
      grid-template-columns: 1fr auto;
      gap: 12px;
      align-items: center;
    }
    .search-left{
      display:flex;
      gap:10px;
      flex-wrap: wrap;
      align-items: center;
    }
    .input-wrap{
      position:relative;
      flex:1;
      min-width: 240px;
    }
    .input-wrap input{
      width:100%;
      padding: 12px 14px 12px 40px;
      border: 2px solid #ffd6d6;
      border-radius: 12px;
      font-size: 16px;
      outline:none;
      transition: all 0.2s ease;
      background: #fff;
    }
    .input-wrap input:focus{
      border-color: var(--primary);
      box-shadow: 0 0 0 6px rgba(255,107,107,0.12);
    }
    .input-wrap .icon{
      position:absolute;
      left:10px;
      top:50%;
      transform: translateY(-50%);
      color: var(--muted);
      font-size:18px;
    }
    .btn{
      border:none;
      background: var(--secondary);
      color:#073b4c;
      font-weight: 700;
      padding: 12px 16px;
      border-radius: 12px;
      cursor:pointer;
      transition: transform 0.04s ease, filter 0.2s ease, background 0.2s ease;
    }
    .btn:hover{ filter: brightness(1.05); }
    .btn:active{ transform: scale(0.98); }
    .btn.secondary{ background: var(--accent); color:#3a3a3a; }
    .btn.ghost{
      background: transparent;
      color: var(--primary);
      border: 2px dashed #ffd6d6;
    }

    .suggest{
      display:flex; gap:8px; flex-wrap: wrap; margin-top: 10px;
    }
    .chip{
      background:#fff;
      border: 2px dashed #ffe1a4;
      color:#b86800;
      padding: 8px 12px;
      border-radius: 999px;
      cursor:pointer;
      font-weight:600;
      transition: all 0.2s ease;
    }
    .chip:hover{ background:#fff9e8; }

    .panel{
      margin-top: 18px;
      display:grid;
      grid-template-columns: 1fr 1fr;
      gap: 16px;
    }
    @media (max-width: 800px){
      .panel{ grid-template-columns: 1fr; }
      .search-card{ grid-template-columns: 1fr; }
    }

    .card{
      background: var(--card);
      border-radius: 16px;
      box-shadow: 0 10px 30px rgba(0,0,0,0.08);
      padding: 16px;
    }
    .title-line{
      display:flex;
      align-items:center;
      justify-content: space-between;
      margin-bottom: 8px;
    }
    .title-line h2{
      margin:0; font-size: 20px;
    }
    .badge{
      background:#fff3bf;
      color:#8a6d00;
      font-weight:700;
      padding: 6px 10px;
      border-radius: 10px;
      border: 2px solid #ffe08a;
    }

    .tabs{
      display:flex; gap:8px; flex-wrap: wrap; margin-top: 8px;
    }
    .tab{
      background: #f7f7f7;
      border: 2px solid #eee;
      color:#333;
      padding: 10px 12px;
      border-radius: 12px;
      cursor:pointer;
      font-weight:700;
      transition: all 0.2s ease;
    }
    .tab.active{
      background: #e7fff9;
      border-color: var(--secondary);
      color:#015a53;
    }

    .content{
      margin-top: 12px;
      background: #fafafa;
      border: 2px dashed #e8e8e8;
      padding: 14px;
      border-radius: 12px;
      min-height: 120px;
    }
    .content p{ margin: 0 0 8px; }

    .links{
      margin-top: 12px;
      display:flex; gap:8px; flex-wrap: wrap;
    }
    .link{
      text-decoration:none;
      background:#f0f9ff;
      border: 2px solid #cfe8ff;
      color:#0b4f8a;
      font-weight:700;
      padding: 10px 12px;
      border-radius: 12px;
      transition: all 0.2s ease;
    }
    .link:hover{ background:#e7f3ff; }

    .footer{
      text-align:center;
      margin: 24px 0 32px;
      color: var(--muted);
    }

    /* Autocomplete dropdown */
    .dropdown{
      position: absolute;
      z-index: 10;
      top: 100%;
      left: 0;
      right: 0;
      background: #fff;
      border: 2px solid #ffd6d6;
      border-top: none;
      border-radius: 0 0 12px 12px;
      max-height: 220px;
      overflow: auto;
      box-shadow: 0 12px 24px rgba(0,0,0,0.08);
    }
    .item{
      padding: 10px 12px;
      cursor: pointer;
      border-bottom: 1px dashed #ffe8e8;
    }
    .item:last-child{ border-bottom: none; }
    .item:hover{ background: #fff7f7; }
    .empty{
      padding: 10px 12px;
      color: var(--muted);
      font-style: italic;
    }
    .stats{
      display:flex; gap:8px; flex-wrap: wrap; margin-top: 8px;
    }
    .stat{
      background:#fff; border:2px solid #eee; border-radius: 12px; padding:8px 10px; font-weight:700;
    }
  </style>
</head>
<body>
  <header>
    <h1>Tra c·ª©u t·ªânh/th√†nh Vi·ªát Nam</h1>
    <p>Vui nh·ªôn ‚Äì th√¢n thi·ªán ‚Äì ƒë·∫ßy ƒë·ªß: v·ªã tr√≠ ƒë·ªãa l√≠, ƒë·∫∑c ƒëi·ªÉm, l·ªãch s·ª≠ v√† fun facts üß≠üìöüéà</p>
    <div class="mascot">ü¶ú</div>
  </header>

  <div class="container">
    <!-- Search -->
    <div class="search-card" role="search">
      <div class="search-left">
        <div class="input-wrap">
          <span class="icon">üîé</span>
          <input id="searchInput" type="text" placeholder="Nh·∫≠p t·ªânh/th√†nh (v√≠ d·ª•: H√† N·ªôi, C·∫ßn Th∆°, H·∫£i Ph√≤ng...)" autocomplete="off" />
          <div id="dropdown" class="dropdown" hidden></div>
        </div>
        <button class="btn" id="btnSearch">T√¨m ki·∫øm</button>
        <button class="btn secondary" id="btnRandom">G·ª£i √Ω ng·∫´u nhi√™n üé≤</button>
        <button class="btn ghost" id="btnClear">X√≥a</button>
      </div>
      <div class="suggest" aria-label="G·ª£i √Ω nhanh">
        <div class="chip" data-q="H√† N·ªôi">H√† N·ªôi</div>
        <div class="chip" data-q="TP H·ªì Ch√≠ Minh">TP.HCM</div>
        <div class="chip" data-q="ƒê√† N·∫µng">ƒê√† N·∫µng</div>
        <div class="chip" data-q="C·∫ßn Th∆°">C·∫ßn Th∆°</div>
        <div class="chip" data-q="Hu·∫ø">Hu·∫ø</div>
      </div>
    </div>

    <!-- Result -->
    <div class="panel">
      <div class="card" id="infoCard">
        <div class="title-line">
          <h2 id="provinceTitle">H√£y ch·ªçn m·ªôt t·ªânh/th√†nh üéØ</h2>
          <span class="badge" id="regionBadge">‚Äî</span>
        </div>
        <div class="stats" id="statsBar"></div>
        <div class="tabs" id="tabs">
          <div class="tab active" data-tab="geo">V·ªã tr√≠ ƒë·ªãa l√≠</div>
          <div class="tab" data-tab="features">ƒê·∫∑c ƒëi·ªÉm</div>
          <div class="tab" data-tab="history">L·ªãch s·ª≠</div>
          <div class="tab" data-tab="fun">Fun facts üéâ</div>
        </div>
        <div class="content" id="tabContent">
          <p>Nh·∫≠p t√™n t·ªânh/th√†nh ƒë·ªÉ xem chi ti·∫øt th√∫ v·ªã v·ªÅ ƒë·ªãa l√≠, ƒë·∫∑c ƒëi·ªÉm, l·ªãch s·ª≠ v√† nh·ªØng ƒëi·ªÅu b√™n l·ªÅ.</p>
        </div>
        <div class="links" id="linksRow" hidden></div>
      </div>

      <div class="card">
        <h2 style="margin:0 0 8px;">M·ª•c ti√™u d·ªØ li·ªáu</h2>
        <p style="margin:0 0 8px;">B·ªô d·ªØ li·ªáu m·ª•c ti√™u: 34/34 t·ªânh,th√†nh. B·∫°n c√≥ th·ªÉ m·ªü r·ªông nhanh b·∫±ng c√°ch th√™m JSON ngo√†i.</p>
        <div class="links">
          <a class="link" href="#" id="exportBtn">T·∫£i d·ªØ li·ªáu hi·ªán c√≥ (JSON)</a>
          <label class="link" style="cursor:pointer;">
            <input id="importFile" type="file" accept="application/json" hidden />
            Nh·∫≠p d·ªØ li·ªáu t·ª´ JSON
          </label>
          <a class="link" href="https://www.google.com/maps?q=Vi·ªát+Nam" target="_blank" rel="noopener">M·ªü Google Maps üó∫Ô∏è</a>
        </div>
        <p style="margin:8px 0 0; font-size: 14px; color: var(--muted);">
          M·∫πo: G√µ v√†i k√Ω t·ª± ƒë·ªÉ th·∫•y g·ª£i √Ω t·ª± ƒë·ªông. Nh·∫•n Enter ƒë·ªÉ ch·ªçn nhanh.
        </p>
      </div>
    </div>

    <div class="footer">
  Made with üíõ (c√≥ th·ªÉ nh·∫≠p th√™m ƒë·ªÉ ƒë·ªß 34/34 t·ªânh, th√†nh)<br>
  <span class="credit">ƒê∆∞·ª£c t·∫°o b·ªüi Ng·ªçc Th√¥ng, ƒê√¨nh Xu v√† Thanh Thi√™n l·ªõp 12A4 ‚Äì THPT Ch√¢u VƒÉn Li√™m ü§ë</span>
</div>

  <script>
    // Danh s√°ch t√™n 63 t·ªânh/th√†nh (ƒë·ªÉ autocomplete + ki·ªÉm tra h·ª£p l·ªá)
    const PROVINCE_NAMES = [
      "An Giang","B√† R·ªãa - V≈©ng T√†u","B·∫Øc Giang","B·∫Øc K·∫°n","B·∫°c Li√™u","B·∫Øc Ninh","B·∫øn Tre","B√¨nh ƒê·ªãnh","B√¨nh D∆∞∆°ng",
      "B√¨nh Ph∆∞·ªõc","B√¨nh Thu·∫≠n","C√† Mau","C·∫ßn Th∆°","Cao B·∫±ng","ƒê√† N·∫µng","ƒê·∫Øk L·∫Øk","ƒê·∫Øk N√¥ng","ƒêi·ªán Bi√™n","ƒê·ªìng Nai",
      "ƒê·ªìng Th√°p","Gia Lai","H√† Giang","H√† Nam","H√† N·ªôi","H√† Tƒ©nh","H·∫£i D∆∞∆°ng","H·∫£i Ph√≤ng","H·∫≠u Giang","H√≤a B√¨nh",
      "H∆∞ng Y√™n","Kh√°nh H√≤a","Ki√™n Giang","Kon Tum","Lai Ch√¢u","L√¢m ƒê·ªìng","L·∫°ng S∆°n","L√†o Cai","Long An","Nam ƒê·ªãnh",
      "Ngh·ªá An","Ninh B√¨nh","Ninh Thu·∫≠n","Ph√∫ Th·ªç","Ph√∫ Y√™n","Qu·∫£ng B√¨nh","Qu·∫£ng Nam","Qu·∫£ng Ng√£i","Qu·∫£ng Ninh",
      "Qu·∫£ng Tr·ªã","S√≥c TrƒÉng","S∆°n La","T√¢y Ninh","Th√°i B√¨nh","Th√°i Nguy√™n","Thanh H√≥a","Th·ª´a Thi√™n Hu·∫ø","Ti·ªÅn Giang",
      "TP H·ªì Ch√≠ Minh","Tr√† Vinh","Tuy√™n Quang","Vƒ©nh Long","Vƒ©nh Ph√∫c","Y√™n B√°i"
    ];

    // D·ªØ li·ªáu m·∫´u (c√≥ th·ªÉ m·ªü r·ªông nh·∫≠p t·ª´ JSON). M·ªói m·ª•c g·ªìm geo, features, history, fun, region, stats.
    const DATA = {
      "H√† N·ªôi": {
        region: "ƒê·ªìng b·∫±ng s√¥ng H·ªìng (Mi·ªÅn B·∫Øc)",
        geo: "Th·ªß ƒë√¥ n·∫±m ·ªü trung t√¢m ƒê·ªìng b·∫±ng s√¥ng H·ªìng; ti·∫øp gi√°p Vƒ©nh Ph√∫c, Ph√∫ Th·ªç, H√≤a B√¨nh, H√† Nam, B·∫Øc Ninh, H∆∞ng Y√™n.",
        features: "Kinh t·∫ø ‚Äì vƒÉn ho√° ‚Äì gi√°o d·ª•c tr·ªçng ƒëi·ªÉm; h·ªá th·ªëng h·ªì v√† s√¥ng d√†y ƒë·∫∑c; 4 m√πa r√µ r·ªát.",
        history: "Trung t√¢m l·ªãch s·ª≠ v·ªõi ThƒÉng Long ng√†n nƒÉm; nhi·ªÅu di t√≠ch nh∆∞ Ho√†ng th√†nh ThƒÉng Long, VƒÉn Mi·∫øu ‚Äì Qu·ªëc T·ª≠ Gi√°m.",
        fun: "Ph·ªü, b√∫n ch·∫£, h·ªì Ho√†n Ki·∫øm v·ªõi truy·ªÅn thuy·∫øt R√πa; m√πa c·ªëm xanh; ph·ªë c·ªï 36 ph·ªë ph∆∞·ªùng.",
        stats: { "D√¢n s·ªë ∆∞·ªõc": "8M+", "Di·ªán t√≠ch": "3.3k km¬≤" }
      },
      "TP H·ªì Ch√≠ Minh": {
        region: "ƒê√¥ng Nam B·ªô (Mi·ªÅn Nam)",
        geo: "N·∫±m b√™n s√¥ng S√†i G√≤n; gi√°p ƒê·ªìng Nai, B√¨nh D∆∞∆°ng, T√¢y Ninh, Long An, Ti·ªÅn Giang v√† bi·ªÉn ƒê√¥ng.",
        features: "ƒê·∫ßu t√†u kinh t·∫ø; kh√≠ h·∫≠u nhi·ªát ƒë·ªõi gi√≥ m√πa, hai m√πa m∆∞a ‚Äì kh√¥; ƒë√¥ th·ªã nƒÉng ƒë·ªông.",
        history: "Ph√°t tri·ªÉn m·∫°nh t·ª´ th·ªùi Gia ƒê·ªãnh; s√°p nh·∫≠p v√† ƒë·ªïi t√™n th√†nh TP.HCM nƒÉm 1976.",
        fun: "C√† ph√™ s·ªõm, street food ƒëa d·∫°ng, ch·ª£ B·∫øn Th√†nh, ph·ªë ƒëi b·ªô Nguy·ªÖn Hu·ªá.",
        stats: { "D√¢n s·ªë ∆∞·ªõc": "10M+", "Di·ªán t√≠ch": "2.1k km¬≤" }
      },
      "ƒê√† N·∫µng": {
        region: "Duy√™n h·∫£i Nam Trung B·ªô",
        geo: "Th√†nh ph·ªë ven bi·ªÉn; g·∫ßn ƒë√®o H·∫£i V√¢n; gi√°p Th·ª´a Thi√™n Hu·∫ø v√† Qu·∫£ng Nam.",
        features: "Bi·ªÉn M·ªπ Kh√™, b√°n ƒë·∫£o S∆°n Tr√†; ƒë√¥ th·ªã du l·ªãch ‚Äì d·ªãch v·ª• ph√°t tri·ªÉn.",
        history: "C·∫£ng ƒê√† N·∫µng quan tr·ªçng t·ª´ th·∫ø k·ª∑ 19; m·ªü r·ªông m·∫°nh sau 1997 khi t√°ch kh·ªèi Qu·∫£ng Nam ‚Äì ƒê√† N·∫µng.",
        fun: "C·∫ßu R·ªìng phun l·ª≠a, m√¨ Qu·∫£ng, view ƒë√®o H·∫£i V√¢n ‚Äòƒë√£ m·∫Øt‚Äô.",
        stats: { "D√¢n s·ªë ∆∞·ªõc": "1.2M", "Di·ªán t√≠ch": "1.3k km¬≤" }
      },
      "C·∫ßn Th∆°": {
        region: "ƒê·ªìng b·∫±ng s√¥ng C·ª≠u Long",
        geo: "B√™n s√¥ng H·∫≠u; gi√°p H·∫≠u Giang, Vƒ©nh Long, ƒê·ªìng Th√°p, An Giang, Ki√™n Giang.",
        features: "Trung t√¢m M√™ K√¥ng; ch·ª£ n·ªïi C√°i RƒÉng; ph√π sa ‚Äì c√¢y tr√°i tr√π ph√∫.",
        history: "H√¨nh th√†nh t·ª´ th·ªùi Nam B·ªô m·ªü ƒë·∫•t; ph√°t tri·ªÉn m·∫°nh th·∫ø k·ª∑ 20‚Äì21.",
        fun: "H·ªß ti·∫øu, ch√® b∆∞·ªüi; ƒëi ghe s√°ng s·ªõm ng·∫Øm b√¨nh minh s√¥ng n∆∞·ªõc.",
        stats: { "D√¢n s·ªë ∆∞·ªõc": "1.2M", "Di·ªán t√≠ch": "1.4k km¬≤" }
      },
      "Hu·∫ø": {
        region: "B·∫Øc Trung B·ªô",
        geo: "B√™n s√¥ng H∆∞∆°ng, g·∫ßn bi·ªÉn Thu·∫≠n An; gi√°p Qu·∫£ng Tr·ªã, Qu·∫£ng Nam, ƒê√† N·∫µng.",
        features: "Di s·∫£n c·ªë ƒë√¥; kh√≠ h·∫≠u m∆∞a nhi·ªÅu, c·∫£nh s·∫Øc th∆°.",
        history: "Kinh ƒë√¥ tri·ªÅu Nguy·ªÖn (1802‚Äì1945); qu·∫ßn th·ªÉ di t√≠ch C·ªë ƒë√¥ Hu·∫ø UNESCO.",
        fun: "C∆°m h·∫øn, b√∫n b√≤, nh√£ nh·∫°c cung ƒë√¨nh; m∆∞a Hu·∫ø ‚Äòƒë·∫∑c s·∫£n‚Äô.",
        stats: { "D√¢n s·ªë ∆∞·ªõc": "0.9M", "Di·ªán t√≠ch": "5k km¬≤" }
      }
      // B·∫°n c√≥ th·ªÉ nh·∫≠p th√™m ho·∫∑c thay th·∫ø b·∫±ng JSON ƒë·ªÉ ƒë·ªß 63 t·ªânh/th√†nh
    };

    // State
    let currentProvince = null;
    let activeTab = "geo";

    // Elements
    const searchInput = document.getElementById("searchInput");
    const dropdown = document.getElementById("dropdown");
    const btnSearch = document.getElementById("btnSearch");
    const btnRandom = document.getElementById("btnRandom");
    const btnClear = document.getElementById("btnClear");
    const provinceTitle = document.getElementById("provinceTitle");
    const regionBadge = document.getElementById("regionBadge");
    const tabs = document.getElementById("tabs");
    const tabContent = document.getElementById("tabContent");
    const statsBar = document.getElementById("statsBar");
    const linksRow = document.getElementById("linksRow");
    const exportBtn = document.getElementById("exportBtn");
    const importFile = document.getElementById("importFile");

    // Helpers
    function normalize(s){
      return (s||"").toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").trim();
    }
    function filterNames(query){
      const q = normalize(query);
      return PROVINCE_NAMES
        .map(name => ({ name, score: name.toLowerCase().includes(q) ? 1 : (normalize(name).includes(q) ? 0.8 : 0) }))
        .filter(x => x.score > 0)
        .sort((a,b) => b.score - a.score)
        .map(x => x.name);
    }
    function buildLinks(name){
      const wiki = `https://vi.wikipedia.org/wiki/${encodeURIComponent(name)}`;
      const maps = `https://www.google.com/maps/search/${encodeURIComponent(name + " Vi·ªát Nam")}`;
      const google = `https://www.google.com/search?q=${encodeURIComponent(name + " c·ªïng th√¥ng tin t·ªânh")}`;
      linksRow.innerHTML = `
        <a class="link" href="${wiki}" target="_blank" rel="noopener">Wikipedia</a>
        <a class="link" href="${maps}" target="_blank" rel="noopener">Xem tr√™n Google Maps</a>
        <a class="link" href="${google}" target="_blank" rel="noopener">C·ªïng th√¥ng tin t·ªânh</a>
      `;
      linksRow.hidden = false;
    }
    function renderStats(stats){
      statsBar.innerHTML = "";
      if(!stats) return;
      Object.entries(stats).forEach(([k,v])=>{
        const el = document.createElement("div");
        el.className = "stat";
        el.textContent = `${k}: ${v}`;
        statsBar.appendChild(el);
      });
    }
    function setActiveTab(tab){
      activeTab = tab;
      [...tabs.querySelectorAll(".tab")].forEach(t => t.classList.toggle("active", t.dataset.tab === tab));
      renderContent();
    }
    function renderContent(){
      if(!currentProvince){
        tabContent.innerHTML = "<p>Ch·ªçn m·ªôt t·ªânh/th√†nh ƒë·ªÉ b·∫Øt ƒë·∫ßu kh√°m ph√° nh√©!</p>";
        linksRow.hidden = true;
        regionBadge.textContent = "‚Äî";
        statsBar.innerHTML = "";
        return;
      }
      const data = DATA[currentProvince] || {};
      const text = data[activeTab] || "‚è≥ Ch∆∞a c√≥ d·ªØ li·ªáu chi ti·∫øt. H√£y d√πng c√°c li√™n k·∫øt b√™n d∆∞·ªõi ƒë·ªÉ tra c·ª©u nhanh v√†/ho·∫∑c nh·∫≠p JSON m·ªü r·ªông.";
      tabContent.innerHTML = `<p>${text}</p>`;
      provinceTitle.textContent = currentProvince;
      regionBadge.textContent = data.region || "ƒêang c·∫≠p nh·∫≠t khu v·ª±c";
      renderStats(data.stats);
      buildLinks(currentProvince);
    }

    function chooseProvince(name){
      currentProvince = name;
      dropdown.hidden = true;
      searchInput.value = name;
      renderContent();
    }

    // Autocomplete dropdown
    function updateDropdown(){
      const q = searchInput.value;
      const results = filterNames(q).slice(0, 10);
      if(results.length === 0){
        dropdown.innerHTML = `<div class="empty">Kh√¥ng t√¨m th·∫•y. Th·ª≠ g√µ t√™n kh√°c ho·∫∑c ch·ªçn g·ª£i √Ω.</div>`;
        dropdown.hidden = false;
        return;
      }
      dropdown.innerHTML = results.map(n => `<div class="item" data-name="${n}">${n}</div>`).join("");
      dropdown.hidden = false;
    }

    // Events
    searchInput.addEventListener("input", updateDropdown);
    searchInput.addEventListener("focus", updateDropdown);
    document.addEventListener("click", (e)=>{
      if(e.target.classList.contains("item")){
        chooseProvince(e.target.dataset.name);
      } else if(!dropdown.contains(e.target) && e.target !== searchInput){
        dropdown.hidden = true;
      }
    });
    searchInput.addEventListener("keydown", (e)=>{
      if(e.key === "Enter"){
        const val = searchInput.value.trim();
        const matched = filterNames(val)[0];
        if(matched) chooseProvince(matched);
      }
    });
    btnSearch.addEventListener("click", ()=>{
      const val = searchInput.value.trim();
      const matched = filterNames(val)[0];
      if(matched) chooseProvince(matched);
      else updateDropdown();
    });
    btnRandom.addEventListener("click", ()=>{
      const name = PROVINCE_NAMES[Math.floor(Math.random() * PROVINCE_NAMES.length)];
      chooseProvince(name);
    });
    btnClear.addEventListener("click", ()=>{
      searchInput.value = "";
      currentProvince = null;
      dropdown.hidden = true;
      renderContent();
    });

    tabs.addEventListener("click", (e)=>{
      const t = e.target.closest(".tab");
      if(!t) return;
      setActiveTab(t.dataset.tab);
    });

    // Quick chips
    document.querySelectorAll(".chip").forEach(ch => {
      ch.addEventListener("click", () => {
        chooseProvince(ch.dataset.q);
      });
    });

    // Export current DATA to JSON
    exportBtn.addEventListener("click", (e)=>{
      e.preventDefault();
      const blob = new Blob([JSON.stringify(DATA, null, 2)], { type: "application/json" });
      const url = URL.createObjectURL(blob);
      const a = document.createElement("a");
      a.href = url;
      a.download = "vn-provinces-data-demo.json";
      a.click();
      URL.revokeObjectURL(url);
    });

    // Import JSON to extend DATA
    importFile.addEventListener("change", async ()=>{
      const file = importFile.files[0];
      if(!file) return;
      try{
        const text = await file.text();
        const json = JSON.parse(text);
        Object.assign(DATA, json);
        alert("ƒê√£ nh·∫≠p d·ªØ li·ªáu JSON. H√£y t√¨m l·∫°i t·ªânh/th√†nh ƒë·ªÉ xem n·ªôi dung m·ªõi!");
        renderContent();
      }catch(err){
        alert("Kh√¥ng th·ªÉ ƒë·ªçc JSON. Vui l√≤ng ki·ªÉm tra ƒë·ªãnh d·∫°ng.");
      } finally {
        importFile.value = "";
      }
    });

    // Init
    renderContent();
  </script>
</body>
</html>